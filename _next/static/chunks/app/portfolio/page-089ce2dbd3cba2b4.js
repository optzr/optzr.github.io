(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ex});var s=r(5155),a=r(2115),l=r(1974),i=r(5950),o=r(7052),d=r(5156),n=r(9620);let c=e=>{let{onClick:t,currentPortfolio:r}=e;return(0,s.jsxs)("button",{onClick:t,id:"portfolio-selector-btn",className:"flex items-center gap-3 px-4 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all group",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(d.A,{className:"text-primary text-base"})}),(0,s.jsxs)("span",{className:"sm:text-sm md:text-base font-semibold text-gray-900 dark:text-white whitespace-nowrap",children:[(null==r?void 0:r.name)||"No Portfolio Selected",(null==r?void 0:r.description)&&(0,s.jsxs)("span",{className:"hidden md:inline",children:[" - ",r.description]})]}),(0,s.jsx)(n.A,{className:"text-gray-400 dark:text-gray-300 group-hover:text-primary transition-colors text-base"})]})};var x=r(4778),m=r(7985),g=r(461),h=r(380),b=r(9999),u=r(6518),y=r(1665),f=r(335),p=r(6170),j=r(9943),v=r(8062),N=r(1878),k=r(6596);class w{setItem(e,t){if(this.storage)try{let r=JSON.stringify(t);this.storage.setItem(e,r)}catch(e){console.error("Error saving to storage:",e)}}getItem(e){if(this.storage)try{let t=this.storage.getItem(e);if(null===t)return null;return JSON.parse(t)}catch(e){console.error("Error reading from storage:",e)}return null}removeItem(e){this.storage&&this.storage.removeItem(e)}constructor(e){this.storage=e}}let A=new w(window.sessionStorage),C={portfolio:new w(window.localStorage)},P=e=>C[e]||A,S="portfolios",E=["high-growth","balanced","index-tracking","conservative","custom"],I=P("portfolio");class L{static getPortfolios(){return I.getItem(S)||[]}static savePortfolios(e){I.setItem(S,e)}static createPortfolio(e){let{name:t,template:r,description:s}=e;if(!t||!r)throw Error("Portfolio name and template are required.");if(!E.includes(r))throw Error("Invalid template. Allowed templates are: ".concat(E.join(", ")));let a=this.getPortfolios(),l={uuid:crypto.randomUUID(),name:t,template:r,description:s||""};return a.push(l),this.savePortfolios(a),l}static getPortfolio(e){return this.getPortfolios().find(t=>t.uuid===e)||null}static listPortfolios(){return this.getPortfolios()}static updatePortfolio(e,t){let{name:r,template:s,description:a}=t;if(!e)throw Error("Portfolio UUID is required for update.");if(s&&!E.includes(s))throw Error("Invalid template. Allowed templates are: ".concat(E.join(", ")));let l=this.getPortfolios(),i=l.findIndex(t=>t.uuid===e);if(-1===i)throw Error("Portfolio not found.");let o=l[i];return r&&(o.name=r),s&&(o.template=s),void 0!==a&&(o.description=a),l[i]=o,this.savePortfolios(l),o}static deletePortfolio(e){if(!e)throw Error("Portfolio UUID is required for deletion.");let t=this.getPortfolios(),r=t.filter(t=>t.uuid!==e);if(t.length===r.length)throw Error("Portfolio not found.");this.savePortfolios(r)}}var D=r(8676);let M=e=>{let{isOpen:t,onClose:r,onSave:l,portfolio:i}=e,[o,d]=(0,a.useState)(""),[n,c]=(0,a.useState)("");return((0,a.useEffect)(()=>{i&&(d(i.name),c(i.description||""))},[i]),t&&i)?(0,s.jsx)("div",{id:"edit-portfolio-modal",className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:r,children:(0,s.jsx)("div",{className:"flex items-start justify-center pt-20",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Portfolio"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Update the name and description."})]}),(0,s.jsx)("button",{onClick:r,className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,s.jsx)(b.A,{className:"text-gray-600 dark:text-gray-300 text-lg"})})]}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Portfolio Name"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,s.jsx)("textarea",{rows:"3",value:n,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all resize-none"})]})]})}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,s.jsx)(D.A,{onClick:r,variant:"secondary",children:"Cancel"}),(0,s.jsx)(D.A,{onClick:()=>{L.updatePortfolio(i.uuid,{name:o,description:n}),l(),r()},variant:"primary",children:"Save Changes"})]})]})})}):null},B=P(),O={"high-growth":{description:"Aggressive growth strategy",Icon:u.A,performance:"+4.3%",iconColor:"from-emerald-400 to-emerald-600"},balanced:{description:"60/40 stocks and bonds",Icon:j.A,performance:"+4.3%",iconColor:"from-blue-400 to-blue-600"},"index-tracking":{description:"S&P 500 passive strategy",Icon:v.A,performance:"+4.3%",iconColor:"from-purple-400 to-purple-600"},conservative:{description:"Low-risk dividend focus",Icon:N.A,performance:"+4.3%",iconColor:"from-amber-400 to-amber-600"},custom:{description:"Custom portfolio strategy",Icon:y.A,performance:"N/A",iconColor:"from-gray-400 to-gray-600"}},T=e=>{let{isOpen:t,onClose:r,onCreateNew:l}=e,[i,o]=(0,a.useState)([]),[d,n]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[j,v]=(0,a.useState)(null);if((0,a.useEffect)(()=>{if(!t)return;let e=L.listPortfolios();o(e);let r=B.getItem("selectedPortfolio");if(r)n(r.uuid);else if(e.length>0){let t=e[0];B.setItem("selectedPortfolio",t),n(t.uuid)}},[t]),!t)return null;let N=e=>{B.setItem("selectedPortfolio",e),n(e.uuid),r()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Y,{isOpen:t,onClose:r,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:"flex items-start justify-center pt-20",backdrop:"bg-black/40 backdrop-blur-sm",base:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-3xl mx-4 overflow-hidden outline-none",header:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",body:"p-6 max-h-[600px] overflow-y-auto"},children:(0,s.jsx)(m.g,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(g.c,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Portfolio Manager"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Switch, manage, or create portfolios"})]}),(0,s.jsx)("button",{onClick:e,id:"close-modal",className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,s.jsx)(b.A,{className:"text-gray-600 dark:text-gray-300 text-lg"})})]}),(0,s.jsxs)(h.h,{children:[(0,s.jsx)("div",{id:"portfolio-list",className:"space-y-3",children:i.map(e=>{let t=O[e.template]||O.custom,r=e.uuid===d;return(0,s.jsx)("div",{className:"portfolio-item p-4 rounded-xl border-2 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-gray-800 ".concat(r?"border-primary bg-primary/5 dark:bg-primary/10 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-primary hover:shadow-md"),onClick:()=>N(e),onKeyDown:t=>((e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),N(t))})(t,e),tabIndex:0,role:"button","aria-pressed":r,"data-active":r,children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(t.iconColor," flex items-center justify-center"),children:(0,s.jsx)(t.Icon,{className:"text-white text-lg"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:t.description})]})]}),(0,s.jsxs)("div",{className:"flex flex-col min-[460px]:flex-row items-end min-[460px]:items-center gap-2 min-[460px]:gap-6",children:[r&&(0,s.jsx)("span",{className:"px-2 py-0.5 bg-primary text-white text-xs font-semibold rounded-full mb-2 min-[460px]:mb-0",children:"Active"}),(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Performance"}),(0,s.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:t.performance})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2 min-[460px]:mt-0",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e),u(!0)},className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,s.jsx)(y.A,{className:"text-gray-600 dark:text-gray-300 text-sm"})}),(0,s.jsx)("button",{className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,s.jsx)(f.A,{className:"text-gray-600 dark:text-gray-300 text-sm"})}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{L.deletePortfolio(e);let t=L.listPortfolios();o(t);let r=B.getItem("selectedPortfolio");if((null==r?void 0:r.uuid)===e){let e=t.length>0?t[0]:null;B.setItem("selectedPortfolio",e),n(null==e?void 0:e.uuid)}})(e.uuid)},className:"w-9 h-9 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/50 flex items-center justify-center transition-colors",children:(0,s.jsx)(p.A,{className:"text-red-600 dark:text-red-400 text-sm"})})]})]})]})},e.uuid)})}),(0,s.jsxs)("button",{onClick:l,id:"create-new-btn",className:"w-full mt-4 p-4 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all flex items-center justify-center gap-3 group",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 group-hover:bg-primary flex items-center justify-center transition-colors",children:(0,s.jsx)(k.A,{className:"text-primary group-hover:text-white text-xl"})}),(0,s.jsx)("span",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Create New Portfolio"})]})]})]})})}),(0,s.jsx)(M,{isOpen:c,onClose:()=>{u(!1),v(null)},onSave:()=>{o(L.listPortfolios())},portfolio:j})]})};var z=r(8137),F=r(1955),W=r(6541),U=r(1363);let R=e=>{let{isOpen:t,onClose:r}=e,[l,i]=(0,a.useState)(1),[o,d]=(0,a.useState)(null),[n,c]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(null),y=(0,a.useRef)(null),f=(0,a.useCallback)(()=>{r(),setTimeout(()=>{i(1),d(null),c(""),m(""),h(null)},300)},[r]);if((0,a.useEffect)(()=>{if(!t)return;let e='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',r=t=>{if("Escape"===t.key)return void f();if("Tab"===t.key){if(!y.current)return;let r=y.current.querySelectorAll(e);if(0===r.length)return;let s=r[0],a=r[r.length-1];t.shiftKey?document.activeElement===s&&(a.focus(),t.preventDefault()):document.activeElement===a&&(s.focus(),t.preventDefault())}};document.addEventListener("keydown",r);let s=setTimeout(()=>{if(y.current){let t=y.current.querySelectorAll(e);t.length>0&&t[0].focus()}},100);return()=>{document.removeEventListener("keydown",r),clearTimeout(s)}},[t,f,l]),!t)return null;let p=e=>{d(e),i(2)};return(0,s.jsx)("div",{id:"create-portfolio-modal",className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:e=>{"create-portfolio-modal"===e.target.id&&f()},children:(0,s.jsx)("div",{className:"flex items-start justify-center pt-20",children:(0,s.jsxs)("div",{ref:y,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl mx-4 overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New Portfolio"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:["Step ",(0,s.jsx)("span",{id:"step-number",children:l})," of 3"]})]}),(0,s.jsx)("button",{onClick:f,id:"close-create-modal",className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,s.jsx)(b.A,{className:"text-gray-600 dark:text-gray-300 text-lg"})})]}),1===l&&(0,s.jsxs)("div",{id:"step-1",className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Choose a starting point"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{onClick:()=>p("high-growth"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center mb-4",children:(0,s.jsx)(u.A,{className:"text-white text-lg"})}),(0,s.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"High Growth"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Aggressive strategy with tech and growth stocks"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300 rounded-full font-medium",children:"High Risk"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Long-term"})]})]}),(0,s.jsxs)("div",{onClick:()=>p("balanced"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mb-4",children:(0,s.jsx)(j.A,{className:"text-white text-lg"})}),(0,s.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Balanced"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"60/40 mix of stocks and bonds for stability"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 rounded-full font-medium",children:"Medium Risk"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Medium-term"})]})]}),(0,s.jsxs)("div",{onClick:()=>p("index-tracking"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center mb-4",children:(0,s.jsx)(v.A,{className:"text-white text-lg"})}),(0,s.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Index Tracking"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Passive strategy following major indices"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 rounded-full font-medium",children:"Medium Risk"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Long-term"})]})]}),(0,s.jsxs)("div",{onClick:()=>p("custom"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center mb-4",children:(0,s.jsx)(z.A,{className:"text-white text-lg"})}),(0,s.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Start from Scratch"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Build your own custom portfolio strategy"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-full font-medium",children:"Custom"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Flexible"})]})]})]})]}),2===l&&(0,s.jsxs)("div",{id:"step-2",className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Name your portfolio"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Portfolio Name"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., My Tech Portfolio",value:n,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,s.jsx)("textarea",{rows:"3",placeholder:"Add notes about your investment strategy...",value:x,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all resize-none"})]})]})]}),3===l&&g&&(0,s.jsx)("div",{id:"step-3",className:"p-6",children:(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(F.A,{className:"text-green-600 dark:text-green-400 text-4xl"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Portfolio Created!"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your new portfolio is ready. Start adding investments to begin tracking."}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-5 inline-block",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center",children:(0,s.jsx)(u.A,{className:"text-white text-lg"})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white",children:g.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Based on ",g.template," template"]})]})]})})]})}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[l>1&&l<3?(0,s.jsxs)("button",{onClick:()=>{l>1&&i(l-1)},id:"back-btn",className:"px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-semibold transition-all",children:[(0,s.jsx)(W.A,{className:"inline-block mr-2 text-base"}),"Back"]}):(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"flex-1"}),l<3&&(0,s.jsxs)("button",{onClick:()=>{2===l?(()=>{if(!n||!o)return console.error("Portfolio name and template are required.");h(L.createPortfolio({name:n,template:o,description:x})),i(3)})():l<3&&i(l+1)},id:"next-btn",className:"px-6 py-2.5 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all",disabled:2===l&&!n,children:["Next",(0,s.jsx)(U.A,{className:"inline-block ml-2 text-base"})]}),3===l&&(0,s.jsxs)("button",{onClick:()=>{f()},id:"finish-btn",className:"px-6 py-2.5 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all",children:["Go to Portfolio",(0,s.jsx)(U.A,{className:"inline-block ml-2 text-base"})]})]})]})})})},V=()=>(0,s.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,s.jsxs)("div",{className:"text-center hidden return:block",children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400 font-semibold",children:"+12.4%"}),(0,s.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Return"})]}),(0,s.jsxs)("div",{className:"hidden volatility:block text-center",children:[(0,s.jsx)("div",{className:"font-semibold",children:"18.2%"}),(0,s.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Volatility"})]}),(0,s.jsxs)("div",{className:"hidden diversification:block text-center",children:[(0,s.jsx)("div",{className:"text-primary font-semibold",children:"8.2/10"}),(0,s.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Diversification"})]})]}),q=e=>{let{onClick:t}=e;return(0,s.jsxs)("button",{onClick:t,id:"portfolio-create-btn",className:"flex items-center gap-3 px-4 py-2.5 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all group",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(k.A,{className:"text-primary text-base"})}),(0,s.jsx)("span",{className:"sm:text-sm md:text-base font-semibold text-gray-900 dark:text-white whitespace-nowrap",children:"Create Portfolio"})]})},_=e=>{let{toggleSidebar:t,toggleCollapse:r,isSidebarCollapsed:d}=e,[n,x]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[h,b]=(0,a.useState)(!0),[u,y]=(0,a.useState)(null),f=P();(0,a.useEffect)(()=>{let e=L.listPortfolios();b(e.length>0);let t=f.getItem("selectedPortfolio");t?y(t):e.length>0?(f.setItem("selectedPortfolio",e[0]),y(e[0])):y(null)},[n,m]);let p=()=>{x(!1),g(!0)};return(0,s.jsxs)("header",{id:"header",className:"bg-background-light dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 sm:px-6 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:t,id:"menu-btn",className:"lg:hidden text-gray-600 dark:text-gray-400",children:(0,s.jsx)(l.A,{className:"text-2xl"})}),(0,s.jsx)("button",{onClick:r,id:"collapse-btn",className:"hidden lg:block text-gray-600 dark:text-gray-400",children:d?(0,s.jsx)(l.A,{className:"text-2xl"}):(0,s.jsx)(i.A,{className:"text-2xl"})}),(0,s.jsx)("div",{className:"hidden min-[460px]:block text-xl font-bold text-primary",children:"InvestLearn"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 sm:gap-4",children:[h?(0,s.jsx)(c,{onClick:()=>{x(!0)},currentPortfolio:u}):(0,s.jsx)(q,{onClick:p}),(0,s.jsx)(V,{}),(0,s.jsx)("button",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(o.A,{className:"text-gray-600 dark:text-gray-400 text-sm"})})]}),(0,s.jsx)(T,{isOpen:n,onClose:()=>{x(!1);let e=f.getItem("selectedPortfolio");e?y(e):y(null)},onCreateNew:p}),(0,s.jsx)(R,{isOpen:m,onClose:()=>{g(!1);let e=L.listPortfolios();b(e.length>0);let t=f.getItem("selectedPortfolio");t?y(t):e.length>0?(f.setItem("selectedPortfolio",e[0]),y(e[0])):y(null)}})]})};var H=r(3621),Y=r(3144),G=r(3195);let J=e=>{let{isSidebarOpen:t,toggleSidebar:r,isSidebarCollapsed:l,activeTab:i,setActiveTab:o,openMarketExplorer:d}=e;return(0,a.useEffect)(()=>(t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[t]),(0,s.jsx)("aside",{id:"unified-sidebar",className:"fixed inset-0 lg:relative w-full lg:w-96 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-6 transform ".concat(t?"translate-x-0":"-translate-x-full"," lg:translate-x-0 transition-transform duration-300 z-40 ").concat(l?"sidebar-hidden":""),children:(0,s.jsxs)("div",{id:"sidebar-content-wrapper",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 lg:hidden",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Portfolio"}),(0,s.jsx)("button",{onClick:r,id:"close-sidebar",className:"text-gray-600 dark:text-gray-400",children:(0,s.jsx)(b.A,{className:"text-2xl"})})]}),(0,s.jsx)("div",{className:"mb-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center",id:"sidebar-tabs",role:"tablist",children:[(0,s.jsx)("li",{className:"mr-2",role:"presentation",children:(0,s.jsx)("button",{onClick:()=>o("assets"),className:"inline-block p-4 border-b-2 rounded-t-lg ".concat("assets"===i?"text-primary border-primary":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"),id:"assets-tab",type:"button",role:"tab","aria-controls":"assets","aria-selected":"assets"===i,children:"Assets"})}),(0,s.jsx)("li",{className:"mr-2",role:"presentation",children:(0,s.jsx)("button",{onClick:()=>o("insights"),className:"inline-block p-4 border-b-2 rounded-t-lg ".concat("insights"===i?"text-primary border-primary":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"),id:"insights-tab",type:"button",role:"tab","aria-controls":"insights","aria-selected":"insights"===i,children:"Insights"})})]})}),(0,s.jsxs)("div",{id:"sidebar-tab-content",children:[(0,s.jsxs)("div",{id:"assets",role:"tabpanel","aria-labelledby":"assets-tab",className:"assets"===i?"":"hidden",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Portfolio Assets"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"Apple Inc."}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"AAPL"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"25"}),(0,s.jsx)("span",{className:"text-sm font-medium w-10",children:"25%"}),(0,s.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,s.jsx)(p.A,{className:"text-xs"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"Microsoft Corp."}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MSFT"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"20"}),(0,s.jsx)("span",{className:"text-sm font-medium w-10",children:"20%"}),(0,s.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,s.jsx)(p.A,{className:"text-xs"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"SPDR S&P 500"}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"SPY"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"30"}),(0,s.jsx)("span",{className:"text-sm font-medium w-10",children:"30%"}),(0,s.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,s.jsx)(p.A,{className:"text-xs"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"Vanguard Bonds"}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"BND"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"25"}),(0,s.jsx)("span",{className:"text-sm font-medium w-10",children:"25%"}),(0,s.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,s.jsx)(p.A,{className:"text-xs"})})]})]})]})]}),(0,s.jsxs)("button",{onClick:d,id:"add-asset-btn",className:"w-full py-3 text-base border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-400 hover:border-primary hover:text-primary transition-colors",children:[(0,s.jsx)(k.A,{className:"mr-2 text-2xl"}),"Add Asset"]})]}),(0,s.jsxs)("div",{id:"insights",role:"tabpanel","aria-labelledby":"insights-tab",className:"insights"===i?"":"hidden",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Portfolio Insights"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 bg-green-100 dark:bg-green-900 border-l-4 border-green-400 dark:border-green-500 rounded-r-lg fade-in",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(H.A,{className:"text-green-600 dark:text-green-400 mt-1 text-2xl"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base text-green-800 dark:text-green-300",children:"Diversification Improved"}),(0,s.jsx)("div",{className:"text-sm text-green-700 dark:text-green-400 mt-1",children:"Your portfolio diversification score increased by 12% after adding bonds."})]})]})}),(0,s.jsx)("div",{className:"p-4 bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-400 dark:border-blue-500 rounded-r-lg fade-in",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(Y.A,{className:"text-blue-600 dark:text-blue-400 mt-1 text-2xl"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base text-blue-800 dark:text-blue-300",children:"Low Correlation Assets"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-400 mt-1",children:"AAPL and BND have a correlation of -0.15, providing good diversification."})]})]})}),(0,s.jsx)("div",{className:"p-4 bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-400 dark:border-yellow-500 rounded-r-lg fade-in",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(G.A,{className:"text-yellow-600 dark:text-yellow-400 mt-1 text-2xl"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm sm:text-base text-yellow-800 dark:text-yellow-300",children:"High Tech Concentration"}),(0,s.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:"45% of your portfolio is in technology stocks. Consider diversifying across sectors."})]})]})})]})]})]})]})})};var K=r(553),Q=r(3137),X=r(6311),Z=r.n(X),$=r(92),ee=r.n($);let et=()=>{let e={chart:{backgroundColor:"transparent"},credits:{enabled:!1},title:{text:null},xAxis:{type:"datetime",lineWidth:0,tickWidth:0,labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},yAxis:{title:{text:null},gridLineColor:"#3A3A3C",labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},legend:{enabled:!1},series:[{name:"Portfolio Value",data:[[Date.UTC(2023,0,1),1e4],[Date.UTC(2023,3,1),10800],[Date.UTC(2023,6,1),11200],[Date.UTC(2023,9,1),10900],[Date.UTC(2023,11,1),11240]],color:"#4A90E2",lineWidth:2}]};return(0,s.jsx)(ee(),{highcharts:Z(),options:e})},er=()=>(0,s.jsx)(ee(),{highcharts:Z(),options:{chart:{type:"pie",backgroundColor:"transparent"},credits:{enabled:!1},title:{text:null},series:[{name:"Allocation",data:[{name:"AAPL",y:25,color:"#4A90E2"},{name:"MSFT",y:20,color:"#50E3C2"},{name:"SPY",y:30,color:"#F5A623"},{name:"BND",y:25,color:"#BD10E0"}],dataLabels:{style:{color:"#F2F2F7"}}}]}}),es=e=>{let{openLearningDrawer:t,darkMode:r}=e;return(0,s.jsx)("main",{id:"main-canvas",className:"flex-1 p-4 sm:p-6 bg-background-light dark:bg-gray-900 overflow-y-auto",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{id:"performance-section",className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-md",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Historical Performance"}),(0,s.jsx)("div",{className:"w-full h-full relative",children:(0,s.jsx)(et,{darkMode:r})})]}),(0,s.jsxs)("div",{id:"allocation-section",className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-md",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Asset Allocation"}),(0,s.jsx)("div",{className:"w-full h-full relative",children:(0,s.jsx)(er,{darkMode:r})})]}),(0,s.jsxs)("div",{id:"metrics-panel",className:"col-span-1 lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-md",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Portfolio Metrics"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-primary mb-1",children:"1.42"}),(0,s.jsx)("div",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sharpe Ratio"}),(0,s.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,s.jsx)(K.A,{className:"text-2xl"})})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400 mb-1",children:"0.85"}),(0,s.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,s.jsx)(K.A,{className:"text-2xl"})})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400 mb-1",children:"-5.2%"}),(0,s.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,s.jsx)(K.A,{className:"text-2xl"})})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-purple-600 dark:text-purple-400 mb-1",children:"-2.8%"}),(0,s.jsx)("div",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"VaR (95%)"}),(0,s.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,s.jsx)(K.A,{className:"text-2xl"})})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)("button",{className:"w-12 h-12 flex items-center justify-center bg-primary text-white p-3 rounded-full font-bold hover:bg-blue-700 transition-colors",children:(0,s.jsx)(Q.A,{className:"text-2xl"})})})]})]})})},ea=()=>(0,s.jsx)(ee(),{highcharts:Z(),options:{chart:{backgroundColor:"transparent"},credits:{enabled:!1},title:{text:null},xAxis:{categories:["Portfolio A","Portfolio B"],labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},yAxis:{title:{text:"Sharpe Ratio"},gridLineColor:"#3A3A3C",labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},legend:{enabled:!1},series:[{name:"Sharpe Ratio",type:"bar",data:[1.42,.85],color:"#4A90E2"}]}}),el=e=>{let{isLearningDrawerOpen:t,closeLearningDrawer:r,darkMode:a}=e;return(0,s.jsx)("div",{id:"learning-drawer",className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg transform ".concat(t?"translate-y-0":"translate-y-full"," transition-transform duration-300 z-[9999]"),children:(0,s.jsxs)("div",{className:"p-4 sm:p-6 max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"What is Sharpe Ratio?"}),(0,s.jsx)("button",{onClick:r,id:"close-learning",className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)(b.A,{className:"text-2xl"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4",children:"The Sharpe ratio measures risk-adjusted return by comparing excess return to volatility. Higher values indicate better risk-adjusted performance."}),(0,s.jsxs)("div",{className:"bg-blue-100 dark:bg-blue-900 p-4 rounded-lg mb-4",children:[(0,s.jsx)("h4",{className:"font-medium text-sm sm:text-base text-blue-800 dark:text-blue-300 mb-2",children:"Why it matters"}),(0,s.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"It helps you compare investments with different risk levels on an equal footing. A portfolio with 10% return and low risk might be better than one with 12% return and high risk."})]}),(0,s.jsx)("button",{className:"w-full sm:w-auto bg-primary text-white px-4 py-3 text-base rounded-full hover:bg-blue-700",children:"Try it now: Compare assets by Sharpe ratio"})]}),(0,s.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:(0,s.jsx)("div",{className:"w-full h-full relative",children:(0,s.jsx)(ea,{darkMode:a})})})]})]})})};var ei=r(2063),eo=r(6512),ed=r(6882),en=r(4972);let ec=e=>{let{isMarketExplorerOpen:t,closeMarketExplorer:r}=e,[l,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)({sortBy:"performance_1y",sortOrder:"desc"}),[n,c]=(0,a.useState)(""),[x,m]=(0,a.useState)(null),[g,h]=(0,a.useState)(!1),[b,u]=(0,a.useState)({assetCategory:"All"}),{width:y,startResizing:f,setWidth:p}=(e=>{let{initialWidth:t,minWidth:r=400,maxWidth:s}=e,[l,i]=(0,a.useState)(t),[o,d]=(0,a.useState)(!1),n=(0,a.useCallback)(()=>{d(!0)},[]),c=(0,a.useCallback)(()=>{d(!1)},[]),x=(0,a.useCallback)(e=>{if(o){let t=window.innerWidth-e.clientX;t<r&&(t=r),s&&t>s&&(t=s),i(t)}},[o,r,s]);return(0,a.useEffect)(()=>(window.addEventListener("mousemove",x),window.addEventListener("mouseup",c),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",c)}),[x,c]),{width:l,startResizing:n,setWidth:i}})({initialWidth:1e3,minWidth:400,maxWidth:window.innerWidth});return(0,a.useEffect)(()=>{h(!0);let e=()=>{window.innerWidth<1280?p(window.innerWidth):p(window.innerWidth-384)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[p]),(0,a.useEffect)(()=>(t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[t]),(0,s.jsx)("div",{id:"market-explorer",className:"fixed inset-0 bg-black bg-opacity-50 z-50 ".concat(t?"":"hidden"),children:(0,s.jsxs)("div",{className:"absolute right-0 top-0 h-full bg-white dark:bg-gray-800 slide-in-right overflow-y-auto",style:{width:y},children:[g&&window.innerWidth>=1280&&(0,s.jsx)("div",{className:"absolute left-0 top-0 h-full w-2 cursor-col-resize z-30",onMouseDown:f}),(0,s.jsxs)("div",{className:"relative flex h-auto w-full flex-col dark group/design-root ".concat(x?"":"pb-28"),children:[!x&&(0,s.jsx)(ei.A,{onOpenFilterModal:()=>i(!0),onSortChange:(e,t)=>{d({sortBy:e,sortOrder:t})},sortBy:o.sortBy,sortOrder:o.sortOrder,onClose:r,searchQuery:n,onSearchChange:c}),x?(0,s.jsx)(en.A,{fund:x,onClose:()=>{m(null)}}):(0,s.jsx)(eo.A,{sortConfig:o,onDetailsClick:e=>{m(e)},searchQuery:n,searchableFields:["sedol","name","ticker"],filters:b}),l&&(0,s.jsx)(ed.A,{onClose:()=>i(!1),onApplyFilters:e=>{u(e)},currentFilters:b})]})]})})};function ex(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)("assets"),[d,n]=(0,a.useState)(!1),[c,x]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),h=()=>t(!e);return(0,a.useEffect)(()=>{let e=new MutationObserver(()=>{g(document.documentElement.classList.contains("dark"))});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),g(document.documentElement.classList.contains("dark")),()=>e.disconnect()},[]),(0,s.jsxs)("div",{className:"bg-background-light dark:bg-gray-900 font-display text-text-primary dark:text-white",children:[(0,s.jsx)(_,{toggleSidebar:h,toggleCollapse:()=>l(!r),isSidebarCollapsed:r}),(0,s.jsxs)("div",{id:"main-container",className:"flex flex-col lg:flex-row h-[calc(100vh-73px)]",children:[(0,s.jsx)(J,{isSidebarOpen:e,toggleSidebar:h,isSidebarCollapsed:r,activeTab:i,setActiveTab:o,openMarketExplorer:()=>n(!0)}),(0,s.jsx)(es,{openLearningDrawer:()=>x(!0),darkMode:m})]}),(0,s.jsx)(el,{isLearningDrawerOpen:c,closeLearningDrawer:()=>x(!1),darkMode:m}),(0,s.jsx)(ec,{isMarketExplorerOpen:d,closeMarketExplorer:()=>n(!1)})]})}},6979:(e,t,r)=>{Promise.resolve().then(r.bind(r,564))}},e=>{e.O(0,[910,553,838,240,702,318,441,255,358],()=>e(e.s=6979)),_N_E=e.O()}]);