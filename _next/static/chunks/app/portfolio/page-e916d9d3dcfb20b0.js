(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{2826:(e,t,r)=>{Promise.resolve().then(r.bind(r,6519))},6519:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>e2});var a=r(5155),s=r(2115),l=r(1974),n=r(5950),i=r(7052),o=r(5156),d=r(9620);let c=e=>{let{onClick:t,currentPortfolio:r}=e;return(0,a.jsxs)("button",{onClick:t,id:"portfolio-selector-btn",className:"flex items-center gap-3 px-4 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all group",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(o.A,{className:"text-primary text-base"})}),(0,a.jsxs)("span",{className:"sm:text-sm md:text-base font-semibold text-gray-900 dark:text-white whitespace-nowrap",children:[(null==r?void 0:r.name)||"No Portfolio Selected",(null==r?void 0:r.description)&&(0,a.jsxs)("span",{className:"hidden md:inline",children:[" - ",r.description]})]}),(0,a.jsx)(d.A,{className:"text-gray-400 dark:text-gray-300 group-hover:text-primary transition-colors text-base"})]})};var x=r(4346),m=r(66),g=r(461),u=r(380),h=r(1521),f=r(9999),y=r(6518),b=r(1665),p=r(335),j=r(6170),v=r(9943),k=r(8062),N=r(1878),w=r(6596);class C{setItem(e,t){if(this.storage)try{let r=JSON.stringify(t);this.storage.setItem(e,r)}catch(e){console.error("Error saving to storage:",e)}}getItem(e){if(this.storage)try{let t=this.storage.getItem(e);if(null===t)return null;return JSON.parse(t)}catch(e){console.error("Error reading from storage:",e)}return null}removeItem(e){this.storage&&this.storage.removeItem(e)}constructor(e){this.storage=e}}let A=new C(window.sessionStorage),S={portfolio:new C(window.localStorage)},F=e=>S[e]||A,_="portfolios",L=["high-growth","balanced","index-tracking","conservative","custom"],P=F("portfolio");class E{static getPortfolios(){return P.getItem(_)||[]}static savePortfolios(e){P.setItem(_,e)}static createPortfolio(e){let{name:t,template:r,description:a}=e;if(!t||!r)throw Error("Portfolio name and template are required.");if(!L.includes(r))throw Error("Invalid template. Allowed templates are: ".concat(L.join(", ")));let s=this.getPortfolios(),l={uuid:crypto.randomUUID(),name:t,template:r,description:a||""};return s.push(l),this.savePortfolios(s),l}static getPortfolio(e){return this.getPortfolios().find(t=>t.uuid===e)||null}static listPortfolios(){return this.getPortfolios()}static updatePortfolio(e,t){let{name:r,template:a,description:s}=t;if(!e)throw Error("Portfolio UUID is required for update.");if(a&&!L.includes(a))throw Error("Invalid template. Allowed templates are: ".concat(L.join(", ")));let l=this.getPortfolios(),n=l.findIndex(t=>t.uuid===e);if(-1===n)throw Error("Portfolio not found.");let i=l[n];return r&&(i.name=r),a&&(i.template=a),void 0!==s&&(i.description=s),l[n]=i,this.savePortfolios(l),i}static deletePortfolio(e){if(!e)throw Error("Portfolio UUID is required for deletion.");let t=this.getPortfolios(),r=t.filter(t=>t.uuid!==e);if(t.length===r.length)throw Error("Portfolio not found.");this.savePortfolios(r)}}var T=r(2467);let R=e=>{let{isOpen:t,onClose:r,onSave:l,portfolio:n}=e,[i,o]=(0,s.useState)(""),[d,c]=(0,s.useState)("");if((0,s.useEffect)(()=>{n&&(o(n.name),c(n.description||""))},[n]),!t||!n)return null;let y=()=>{E.updatePortfolio(n.uuid,{name:i,description:d}),l(),r()};return(0,a.jsx)(x.Y,{isOpen:t,onClose:r,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:"flex items-start justify-center pt-20",backdrop:"bg-black/40 backdrop-blur-sm",base:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden outline-none",header:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",body:"p-6",footer:"px-6 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3"},children:(0,a.jsx)(m.g,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.c,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Portfolio"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Update the name and description."})]}),(0,a.jsx)("button",{onClick:e,className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,a.jsx)(f.A,{className:"text-gray-600 dark:text-gray-300 text-lg"})})]}),(0,a.jsx)(u.h,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Portfolio Name"}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,a.jsx)("textarea",{rows:"3",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all resize-none"})]})]})}),(0,a.jsxs)(h.q,{children:[(0,a.jsx)(T.T,{onClick:e,className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700",children:"Cancel"}),(0,a.jsx)(T.T,{onClick:y,className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",children:"Save Changes"})]})]})})})},M=F(),D={"high-growth":{description:"Aggressive growth strategy",Icon:y.A,performance:"+4.3%",iconColor:"from-emerald-400 to-emerald-600"},balanced:{description:"60/40 stocks and bonds",Icon:v.A,performance:"+4.3%",iconColor:"from-blue-400 to-blue-600"},"index-tracking":{description:"S&P 500 passive strategy",Icon:k.A,performance:"+4.3%",iconColor:"from-purple-400 to-purple-600"},conservative:{description:"Low-risk dividend focus",Icon:N.A,performance:"+4.3%",iconColor:"from-amber-400 to-amber-600"},custom:{description:"Custom portfolio strategy",Icon:b.A,performance:"N/A",iconColor:"from-gray-400 to-gray-600"}},H=e=>{let{isOpen:t,onClose:r,onCreateNew:l}=e,[n,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[c,y]=(0,s.useState)(!1),[v,k]=(0,s.useState)(null);if((0,s.useEffect)(()=>{if(!t)return;let e=E.listPortfolios();i(e);let r=M.getItem("selectedPortfolio");if(r)d(r.uuid);else if(e.length>0){let t=e[0];M.setItem("selectedPortfolio",t),d(t.uuid)}},[t]),!t)return null;let N=e=>{M.setItem("selectedPortfolio",e),d(e.uuid),r()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Y,{isOpen:t,onClose:r,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:"flex items-center justify-center",backdrop:"bg-black/40 backdrop-blur-sm",base:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-3xl mx-4 outline-none flex flex-col max-h-[90vh]",header:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",body:"p-6 max-h-[600px] overflow-y-auto flex-grow",footer:"px-6 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between flex-shrink-0"},children:(0,a.jsx)(m.g,{className:"flex flex-col max-h-[90vh]",children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.c,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Portfolio Manager"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Switch, manage, or create portfolios"})]}),(0,a.jsx)("button",{onClick:e,id:"close-modal",className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,a.jsx)(f.A,{className:"text-gray-600 dark:text-gray-300 text-lg"})})]}),(0,a.jsx)(u.h,{children:(0,a.jsx)("div",{id:"portfolio-list",className:"space-y-3",children:n.map(e=>{let t=D[e.template]||D.custom,r=e.uuid===o;return(0,a.jsx)("div",{className:"portfolio-item p-4 rounded-xl border-2 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-gray-800 ".concat(r?"border-primary bg-primary/5 dark:bg-primary/10 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-primary hover:shadow-md"),onClick:()=>N(e),onKeyDown:t=>((e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),N(t))})(t,e),tabIndex:0,role:"button","aria-pressed":r,"data-active":r,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(t.iconColor," flex items-center justify-center"),children:(0,a.jsx)(t.Icon,{className:"text-white text-lg"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:t.description})]})]}),(0,a.jsxs)("div",{className:"flex flex-col min-[460px]:flex-row items-end min-[460px]:items-center gap-2 min-[460px]:gap-6",children:[r&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-primary text-white text-xs font-semibold rounded-full mb-2 min-[460px]:mb-0",children:"Active"}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Performance"}),(0,a.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:t.performance})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2 min-[460px]:mt-0",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e),y(!0)},className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,a.jsx)(b.A,{className:"text-gray-600 dark:text-gray-300 text-sm"})}),(0,a.jsx)("button",{className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,a.jsx)(p.A,{className:"text-gray-600 dark:text-gray-300 text-sm"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{E.deletePortfolio(e);let t=E.listPortfolios();i(t);let r=M.getItem("selectedPortfolio");if((null==r?void 0:r.uuid)===e){let e=t.length>0?t[0]:null;M.setItem("selectedPortfolio",e),d(null==e?void 0:e.uuid)}})(e.uuid)},className:"w-9 h-9 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/50 flex items-center justify-center transition-colors",children:(0,a.jsx)(j.A,{className:"text-red-600 dark:text-red-400 text-sm"})})]})]})]})},e.uuid)})})}),(0,a.jsx)(h.q,{children:(0,a.jsxs)("button",{onClick:l,id:"create-new-btn",className:"w-full p-4 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all flex items-center justify-center gap-3 group",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 group-hover:bg-primary flex items-center justify-center transition-colors",children:(0,a.jsx)(w.A,{className:"text-primary group-hover:text-white text-xl"})}),(0,a.jsx)("span",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Create New Portfolio"})]})})]})})}),(0,a.jsx)(R,{isOpen:c,onClose:()=>{y(!1),k(null)},onSave:()=>{i(E.listPortfolios())},portfolio:v})]})};var Y=r(8137),q=r(1955),I=r(6541),O=r(1363);let U=F(),z=e=>{let{isOpen:t,onClose:r}=e,[l,n]=(0,s.useState)(1),[i,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(""),[b,p]=(0,s.useState)(""),[j,N]=(0,s.useState)(null),w=(0,s.useCallback)(()=>{r(),setTimeout(()=>{n(1),o(null),c(""),p(""),N(null)},300)},[r]);if(!t)return null;let C=e=>{o(e)},A=()=>{if(1===l){if(!i)return void console.warn("Please select a starting point before proceeding.");n(l+1)}else 2===l?(()=>{if(!d||!i)return console.error("Portfolio name and template are required.");N(E.createPortfolio({name:d,template:i,description:b})),n(3)})():l<3&&n(l+1)},S=()=>{l>1&&n(l-1)},F=()=>{j&&U.setItem("selectedPortfolio",j),w()};return(0,a.jsx)(x.Y,{isOpen:t,onClose:w,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:"flex items-start justify-center pt-20",backdrop:"bg-black/40 backdrop-blur-sm",base:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl mx-4 outline-none flex flex-col max-h-[90vh]",header:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",body:"p-6 overflow-y-auto flex-grow",footer:"px-6 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between flex-shrink-0"},children:(0,a.jsx)(m.g,{className:"flex flex-col max-h-[90vh]",children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.c,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New Portfolio"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:["Step ",(0,a.jsx)("span",{id:"step-number",children:l})," of 3"]})]}),(0,a.jsx)("button",{onClick:e,id:"close-create-modal",className:"w-9 h-9 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:(0,a.jsx)(f.A,{className:"text-gray-600 dark:text-gray-300 text-lg"})})]}),(0,a.jsxs)(u.h,{children:[1===l&&(0,a.jsxs)("div",{id:"step-1",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Choose a starting point"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{onClick:()=>C("high-growth"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 ".concat("high-growth"===i?"border-primary ring-2 ring-primary":"border-gray-200 dark:border-gray-700"," hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary"),children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center mb-4",children:(0,a.jsx)(y.A,{className:"text-white text-lg"})}),(0,a.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"High Growth"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Aggressive strategy with tech and growth stocks"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300 rounded-full font-medium",children:"High Risk"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Long-term"})]})]}),(0,a.jsxs)("div",{onClick:()=>C("balanced"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 ".concat("balanced"===i?"border-primary ring-2 ring-primary":"border-gray-200 dark:border-gray-700"," hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary"),children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mb-4",children:(0,a.jsx)(v.A,{className:"text-white text-lg"})}),(0,a.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Balanced"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"60/40 mix of stocks and bonds for stability"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 rounded-full font-medium",children:"Medium Risk"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Medium-term"})]})]}),(0,a.jsxs)("div",{onClick:()=>C("index-tracking"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 ".concat("index-tracking"===i?"border-primary ring-2 ring-primary":"border-gray-200 dark:border-gray-700"," hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary"),children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center mb-4",children:(0,a.jsx)(k.A,{className:"text-white text-lg"})}),(0,a.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Index Tracking"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Passive strategy following major indices"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 rounded-full font-medium",children:"Medium Risk"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Long-term"})]})]}),(0,a.jsxs)("div",{onClick:()=>C("custom"),tabIndex:0,className:"template-card p-5 rounded-xl border-2 ".concat("custom"===i?"border-primary ring-2 ring-primary":"border-gray-200 dark:border-gray-700"," hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary"),children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center mb-4",children:(0,a.jsx)(Y.A,{className:"text-white text-lg"})}),(0,a.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Start from Scratch"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Build your own custom portfolio strategy"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-full font-medium",children:"Custom"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Flexible"})]})]})]})]}),2===l&&(0,a.jsxs)("div",{id:"step-2",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Name your portfolio"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Portfolio Name"}),(0,a.jsx)("input",{type:"text",placeholder:"e.g., My Tech Portfolio",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,a.jsx)("textarea",{rows:"3",placeholder:"Add notes about your investment strategy...",value:b,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all resize-none"})]})]})]}),3===l&&j&&(0,a.jsx)("div",{id:"step-3",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(q.A,{className:"text-green-600 dark:text-green-400 text-4xl"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Portfolio Created!"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your new portfolio is ready. Start adding investments to begin tracking."}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-5 inline-block",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center",children:(0,a.jsx)(y.A,{className:"text-white text-lg"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"text-base font-bold text-gray-900 dark:text-white",children:j.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Based on ",j.template," template"]})]})]})})]})})]}),(0,a.jsxs)(h.q,{children:[l>1&&l<3?(0,a.jsxs)(T.T,{onClick:S,id:"back-btn",className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700",variant:"secondary",children:[(0,a.jsx)(I.A,{className:"inline-block mr-2 text-base"}),"Back"]}):(0,a.jsx)("div",{}),(0,a.jsx)("div",{className:"flex-1"}),l<3&&(0,a.jsxs)(T.T,{onClick:A,id:"next-btn",className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",disabled:1===l&&!i||2===l&&!d,variant:"primary",children:["Next",(0,a.jsx)(O.A,{className:"inline-block ml-2 text-base"})]}),3===l&&(0,a.jsxs)(T.T,{onClick:F,id:"finish-btn",className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",variant:"primary",children:["Go to Portfolio",(0,a.jsx)(O.A,{className:"inline-block ml-2 text-base"})]})]})]})})})},B=()=>(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,a.jsxs)("div",{className:"text-center hidden return:block",children:[(0,a.jsx)("div",{className:"text-green-600 dark:text-green-400 font-semibold",children:"+12.4%"}),(0,a.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Return"})]}),(0,a.jsxs)("div",{className:"hidden volatility:block text-center",children:[(0,a.jsx)("div",{className:"font-semibold",children:"18.2%"}),(0,a.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Volatility"})]}),(0,a.jsxs)("div",{className:"hidden diversification:block text-center",children:[(0,a.jsx)("div",{className:"text-primary font-semibold",children:"8.2/10"}),(0,a.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Diversification"})]})]}),W=e=>{let{onClick:t}=e;return(0,a.jsxs)("button",{onClick:t,id:"portfolio-create-btn",className:"flex items-center gap-3 px-4 py-2.5 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all group",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(w.A,{className:"text-primary text-base"})}),(0,a.jsx)("span",{className:"sm:text-sm md:text-base font-semibold text-gray-900 dark:text-white whitespace-nowrap",children:"Create Portfolio"})]})},V=e=>{let{toggleSidebar:t,toggleCollapse:r,isSidebarCollapsed:o}=e,[d,x]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!0),[f,y]=(0,s.useState)(null),b=F();(0,s.useEffect)(()=>{let e=E.listPortfolios();h(e.length>0);let t=b.getItem("selectedPortfolio");t?y(t):e.length>0?(b.setItem("selectedPortfolio",e[0]),y(e[0])):y(null)},[d,m]);let p=()=>{x(!1),g(!0)};return(0,a.jsxs)("header",{id:"header",className:"bg-background-light dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 sm:px-6 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:t,id:"menu-btn",className:"lg:hidden text-gray-600 dark:text-gray-400",children:(0,a.jsx)(l.A,{className:"text-2xl"})}),(0,a.jsx)("button",{onClick:r,id:"collapse-btn",className:"hidden lg:block text-gray-600 dark:text-gray-400",children:o?(0,a.jsx)(l.A,{className:"text-2xl"}):(0,a.jsx)(n.A,{className:"text-2xl"})}),(0,a.jsx)("div",{className:"hidden min-[460px]:block text-xl font-bold text-primary",children:"InvestLearn"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 sm:gap-4",children:[u?(0,a.jsx)(c,{onClick:()=>{x(!0)},currentPortfolio:f}):(0,a.jsx)(W,{onClick:p}),(0,a.jsx)(B,{}),(0,a.jsx)("button",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(i.A,{className:"text-gray-600 dark:text-gray-400 text-sm"})})]}),(0,a.jsx)(H,{isOpen:d,onClose:()=>{x(!1);let e=b.getItem("selectedPortfolio");e?y(e):y(null)},onCreateNew:p}),(0,a.jsx)(z,{isOpen:m,onClose:()=>{g(!1);let e=E.listPortfolios();h(e.length>0);let t=b.getItem("selectedPortfolio");t?y(t):e.length>0?(b.setItem("selectedPortfolio",e[0]),y(e[0])):y(null)}})]})};var G=r(3621),J=r(3144),Q=r(3195);let K=e=>{let{onClick:t}=e;return(0,a.jsxs)("button",{onClick:t,id:"add-asset-btn",className:"w-full py-3 text-base border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-400 hover:border-primary hover:text-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-colors",children:[(0,a.jsx)(w.A,{className:"mr-2 text-2xl"}),"Add Asset"]})},X=e=>{let{isSidebarOpen:t,toggleSidebar:r,isSidebarCollapsed:l,activeTab:n,setActiveTab:i,openMarketExplorer:o}=e;return(0,s.useEffect)(()=>(t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[t]),(0,a.jsx)("aside",{id:"unified-sidebar",className:"fixed inset-0 lg:relative w-full lg:w-96 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-6 transform ".concat(t?"translate-x-0":"-translate-x-full"," lg:translate-x-0 transition-transform duration-300 z-40 ").concat(l?"sidebar-hidden":""),children:(0,a.jsxs)("div",{id:"sidebar-content-wrapper",className:"overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 lg:hidden",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Portfolio"}),(0,a.jsx)("button",{onClick:r,id:"close-sidebar",className:"text-gray-600 dark:text-gray-400",children:(0,a.jsx)(f.A,{className:"text-2xl"})})]}),(0,a.jsx)("div",{className:"mb-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center",id:"sidebar-tabs",role:"tablist",children:[(0,a.jsx)("li",{className:"mr-2",role:"presentation",children:(0,a.jsx)("button",{onClick:()=>i("assets"),className:"inline-block p-4 border-b-2 rounded-t-lg ".concat("assets"===n?"text-primary border-primary":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"),id:"assets-tab",type:"button",role:"tab","aria-controls":"assets","aria-selected":"assets"===n,children:"Assets"})}),(0,a.jsx)("li",{className:"mr-2",role:"presentation",children:(0,a.jsx)("button",{onClick:()=>i("insights"),className:"inline-block p-4 border-b-2 rounded-t-lg ".concat("insights"===n?"text-primary border-primary":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"),id:"insights-tab",type:"button",role:"tab","aria-controls":"insights","aria-selected":"insights"===n,children:"Insights"})})]})}),(0,a.jsxs)("div",{id:"sidebar-tab-content",children:[(0,a.jsxs)("div",{id:"assets",role:"tabpanel","aria-labelledby":"assets-tab",className:"assets"===n?"":"hidden",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Portfolio Assets"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"Apple Inc."}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"AAPL"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"25"}),(0,a.jsx)("span",{className:"text-sm font-medium w-10",children:"25%"}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,a.jsx)(j.A,{className:"text-xs"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"Microsoft Corp."}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MSFT"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"20"}),(0,a.jsx)("span",{className:"text-sm font-medium w-10",children:"20%"}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,a.jsx)(j.A,{className:"text-xs"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"SPDR S&P 500"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"SPY"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"30"}),(0,a.jsx)("span",{className:"text-sm font-medium w-10",children:"30%"}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,a.jsx)(j.A,{className:"text-xs"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base",children:"Vanguard Bonds"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"BND"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"range",className:"w-16",min:"0",max:"100",defaultValue:"25"}),(0,a.jsx)("span",{className:"text-sm font-medium w-10",children:"25%"}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,a.jsx)(j.A,{className:"text-xs"})})]})]})]})]}),(0,a.jsx)(K,{onClick:o})]}),(0,a.jsxs)("div",{id:"insights",role:"tabpanel","aria-labelledby":"insights-tab",className:"insights"===n?"":"hidden",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Portfolio Insights"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"p-4 bg-green-100 dark:bg-green-900 border-l-4 border-green-400 dark:border-green-500 rounded-r-lg fade-in",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(G.A,{className:"text-green-600 dark:text-green-400 mt-1 text-2xl"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base text-green-800 dark:text-green-300",children:"Diversification Improved"}),(0,a.jsx)("div",{className:"text-sm text-green-700 dark:text-green-400 mt-1",children:"Your portfolio diversification score increased by 12% after adding bonds."})]})]})}),(0,a.jsx)("div",{className:"p-4 bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-400 dark:border-blue-500 rounded-r-lg fade-in",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(J.A,{className:"text-blue-600 dark:text-blue-400 mt-1 text-2xl"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base text-blue-800 dark:text-blue-300",children:"Low Correlation Assets"}),(0,a.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-400 mt-1",children:"AAPL and BND have a correlation of -0.15, providing good diversification."})]})]})}),(0,a.jsx)("div",{className:"p-4 bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-400 dark:border-yellow-500 rounded-r-lg fade-in",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(Q.A,{className:"text-yellow-600 dark:text-yellow-400 mt-1 text-2xl"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm sm:text-base text-yellow-800 dark:text-yellow-300",children:"High Tech Concentration"}),(0,a.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:"45% of your portfolio is in technology stocks. Consider diversifying across sectors."})]})]})})]})]})]})]})})};var Z=r(553),$=r(3137),ee=r(6311),et=r.n(ee),er=r(92),ea=r.n(er);let es=()=>{let e={chart:{backgroundColor:"transparent"},credits:{enabled:!1},title:{text:null},xAxis:{type:"datetime",lineWidth:0,tickWidth:0,labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},yAxis:{title:{text:null},gridLineColor:"#3A3A3C",labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},legend:{enabled:!1},series:[{name:"Portfolio Value",data:[[Date.UTC(2023,0,1),1e4],[Date.UTC(2023,3,1),10800],[Date.UTC(2023,6,1),11200],[Date.UTC(2023,9,1),10900],[Date.UTC(2023,11,1),11240]],color:"#4A90E2",lineWidth:2}]};return(0,a.jsx)(ea(),{highcharts:et(),options:e})},el=()=>(0,a.jsx)(ea(),{highcharts:et(),options:{chart:{type:"pie",backgroundColor:"transparent"},credits:{enabled:!1},title:{text:null},series:[{name:"Allocation",data:[{name:"AAPL",y:25,color:"#4A90E2"},{name:"MSFT",y:20,color:"#50E3C2"},{name:"SPY",y:30,color:"#F5A623"},{name:"BND",y:25,color:"#BD10E0"}],dataLabels:{style:{color:"#F2F2F7"}}}]}}),en=e=>{let{openLearningDrawer:t,darkMode:r}=e;return(0,a.jsx)("main",{id:"main-canvas",className:"flex-1 p-4 sm:p-6 bg-background-light dark:bg-gray-900 overflow-y-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6 items-start",children:[(0,a.jsxs)("div",{id:"performance-section",className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-md",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Historical Performance"}),(0,a.jsx)("div",{className:"w-full h-full relative",children:(0,a.jsx)(es,{darkMode:r})})]}),(0,a.jsxs)("div",{id:"allocation-section",className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-md",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Asset Allocation"}),(0,a.jsx)("div",{className:"w-full h-full relative",children:(0,a.jsx)(el,{darkMode:r})})]}),(0,a.jsxs)("div",{id:"metrics-panel",className:"col-span-1 lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-md",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Portfolio Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-primary mb-1",children:"1.42"}),(0,a.jsx)("div",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sharpe Ratio"}),(0,a.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,a.jsx)(Z.A,{className:"text-2xl"})})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400 mb-1",children:"0.85"}),(0,a.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,a.jsx)(Z.A,{className:"text-2xl"})})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400 mb-1",children:"-5.2%"}),(0,a.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,a.jsx)(Z.A,{className:"text-2xl"})})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-purple-600 dark:text-purple-400 mb-1",children:"-2.8%"}),(0,a.jsx)("div",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"VaR (95%)"}),(0,a.jsx)("button",{onClick:t,className:"text-xs text-gray-400 hover:text-primary mt-1",children:(0,a.jsx)(Z.A,{className:"text-2xl"})})]})]}),(0,a.jsx)("div",{className:"flex justify-end mt-6",children:(0,a.jsx)("button",{className:"w-12 h-12 flex items-center justify-center bg-primary text-white p-3 rounded-full font-bold hover:bg-blue-700 transition-colors",children:(0,a.jsx)($.A,{className:"text-2xl"})})})]})]})})},ei=()=>(0,a.jsx)(ea(),{highcharts:et(),options:{chart:{backgroundColor:"transparent"},credits:{enabled:!1},title:{text:null},xAxis:{categories:["Portfolio A","Portfolio B"],labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},yAxis:{title:{text:"Sharpe Ratio"},gridLineColor:"#3A3A3C",labels:{style:{color:"#AEAEB2",fontSize:"11px"}}},legend:{enabled:!1},series:[{name:"Sharpe Ratio",type:"bar",data:[1.42,.85],color:"#4A90E2"}]}}),eo=e=>{let{isLearningDrawerOpen:t,closeLearningDrawer:r,darkMode:s}=e;return(0,a.jsx)("div",{id:"learning-drawer",className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg transform ".concat(t?"translate-y-0":"translate-y-full"," transition-transform duration-300 z-[9999]"),children:(0,a.jsxs)("div",{className:"p-4 sm:p-6 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"What is Sharpe Ratio?"}),(0,a.jsx)("button",{onClick:r,id:"close-learning",className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(f.A,{className:"text-2xl"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-4",children:"The Sharpe ratio measures risk-adjusted return by comparing excess return to volatility. Higher values indicate better risk-adjusted performance."}),(0,a.jsxs)("div",{className:"bg-blue-100 dark:bg-blue-900 p-4 rounded-lg mb-4",children:[(0,a.jsx)("h4",{className:"font-medium text-sm sm:text-base text-blue-800 dark:text-blue-300 mb-2",children:"Why it matters"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"It helps you compare investments with different risk levels on an equal footing. A portfolio with 10% return and low risk might be better than one with 12% return and high risk."})]}),(0,a.jsx)("button",{className:"w-full sm:w-auto bg-primary text-white px-4 py-3 text-base rounded-full hover:bg-blue-700",children:"Try it now: Compare assets by Sharpe ratio"})]}),(0,a.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:(0,a.jsx)("div",{className:"w-full h-full relative",children:(0,a.jsx)(ei,{darkMode:s})})})]})]})})};var ed=r(3272),ec=r(6969),ex=r(2981),em=r(4536),eg=r(3209),eu=r(6709),eh=r(5804);let ef=[{value:"name",label:"Fund Name"},{value:"performance_1y",label:"Performance (1Y)"},{value:"performance_3y",label:"Performance (3Y)"},{value:"annual_charge",label:"Annual Charge"},{value:"fund_size",label:"Fund Size"},{value:"sharpe_ratio",label:"Sharpe Ratio"}];function ey(e){var t;let{onOpenFilterModal:r,onSortChange:l,sortBy:n,sortOrder:i,onClose:o,onSearchChange:d,searchQuery:c}=e,[x,m]=(0,s.useState)(!1),[g,u]=(0,s.useState)(!1),[h,y]=(0,s.useState)(!1),b=(0,s.useRef)(null),p=(0,s.useRef)(null),j=(0,s.useRef)(null),v=(0,s.useRef)(null),k=(0,s.useRef)(null),N=(0,s.useRef)(0),w=()=>{if(!b.current)return;let e=window.scrollY>N.current,t=window.innerHeight<400;e||t?y(!0):window.scrollY<10&&(m(!1),y(!1))};(0,s.useEffect)(()=>{b.current&&(N.current=b.current.offsetHeight);let e=()=>{window.scrollY<10&&b.current&&(N.current=b.current.offsetHeight),w()},t=()=>{w()};return window.addEventListener("resize",e),window.addEventListener("scroll",t),w(),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",t)}},[]),(0,s.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v]),(0,s.useEffect)(()=>{if(g&&k.current){let e=k.current.querySelector('[data-sort-value="'.concat(n,'"]'));e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[g,n]);let C=h||window.innerHeight<400;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{id:"collapsing-header",ref:b,className:"sticky top-0 z-20 bg-background-light p-4 shadow-sm dark:bg-gray-900 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold leading-tight text-text-primary dark:text-white",children:"Build Your Universe"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Discover and manage your investment funds."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[C&&(0,a.jsxs)(T.T,{id:"search-toggle-button",ref:j,onClick:()=>{m(e=>!e)},className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 p-2 rounded-full text-gray-600 hover:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700",children:["                                ",(0,a.jsx)(ex.A,{className:"text-2xl"})]}),o&&(0,a.jsx)("button",{onClick:o,id:"close-explorer",className:"text-gray-400 hover:text-gray-600 ml-2 sm:ml-4",children:(0,a.jsx)(f.A,{className:"text-2xl"})})]})]}),(!h||x)&&(0,a.jsx)("div",{id:"search-content-area",ref:p,className:"mt-4",children:(0,a.jsxs)("div",{className:"md:flex md:items-center md:gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-white px-2 h-10 dark:bg-gray-800 md:flex-1",children:[(0,a.jsx)(ex.A,{className:"text-2xl text-gray-500"}),(0,a.jsx)("input",{value:c,onChange:e=>d(e.target.value),className:"flex-1 border-none bg-transparent placeholder-gray-500 focus:ring-0 dark:text-white",placeholder:"Search Funds (e.g. VOO, Tech)",type:"text"})]}),(0,a.jsxs)("div",{className:"mt-2 flex gap-2 items-center md:mt-0 md:flex md:items-center md:gap-2",children:[(0,a.jsxs)(T.T,{onClick:r,className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 px-4 h-10 text-sm",children:[(0,a.jsx)(em.A,{className:"text-xl"}),(0,a.jsx)("span",{className:"max-[400px]:hidden",children:"Filter"})]}),(0,a.jsxs)("div",{className:"w-full flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",ref:v,children:[(0,a.jsxs)(T.T,{className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 w-full px-4 h-10 text-sm",onClick:()=>u(e=>!e),children:["                                            ",(0,a.jsx)(eg.A,{className:"text-xl"}),(0,a.jsx)("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:null==(t=ef.find(e=>e.value===n))?void 0:t.label})]}),g&&(0,a.jsx)("div",{className:"fixed left-0 right-0 mt-2 z-10 px-4 md:absolute md:left-auto md:right-0 md:w-max",children:(0,a.jsx)(ed.H,{ref:k,orientation:"horizontal",className:"w-full p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-x-auto",children:(0,a.jsx)(ec.x,{className:"flex-nowrap w-max",children:ef.map(e=>(0,a.jsx)(T.T,{"data-sort-value":e.value,onClick:()=>{l(e.value,i),u(!1)},className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(n===e.value?"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700"," mx-1 rounded-full px-4 py-2 text-sm font-medium whitespace-nowrap"),children:e.label},e.value))})})})]}),(0,a.jsxs)(T.T,{className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 h-10 px-3 text-sm",onClick:()=>l(n,"asc"===i?"desc":"asc"),children:["                                        ","asc"===i?(0,a.jsx)(eu.A,{className:"text-xl"}):(0,a.jsx)(eh.A,{className:"text-xl"})]})]})]})]})})]})})}var eb=r(6074),ep=r(2170);function ej(e){let{onClick:t,className:r,showText:s="always"}=e,l=null;return"always"===s?l=(0,a.jsx)("span",{children:"Add to Basket"}):"responsive"===s&&(l=(0,a.jsx)("span",{className:"hidden lg:inline",children:"Add to Basket"})),(0,a.jsxs)(T.T,{onClick:t,className:"flex items-center justify-center gap-2 rounded-lg font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 ".concat("never"===s?"p-2":"px-4 py-2"," ").concat(r),children:["            ",(0,a.jsx)(ep.A,{className:"text-3xl"}),l]})}let ev=e=>{let t=["bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300","bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300","bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300","bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"];if("string"!=typeof e)return t[0];let r=0;for(let t=0;t<e.length;t++)r=e.charCodeAt(t)+((r<<5)-r);let a=Math.abs(r)%t.length;return t[a]};function ek(e){let{children:t,className:r=""}=e;return t?(0,a.jsx)("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs font-medium ".concat(r),children:t}):null}var eN=r(6497),ew=r(9163);let eC=e=>{let{children:t,content:r}=e,[l,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),d=function(e){return(0,s.useSyncExternalStore)(t=>{let r=window.matchMedia("(min-width: ".concat(e,")"));return r.addEventListener("change",t),()=>r.removeEventListener("change",t)},()=>window.matchMedia("(min-width: ".concat(e,")")).matches,()=>!1)}("1024px"),c=(0,s.useRef)(null),x=()=>n(!1),m=()=>n(!l);return(0,s.useEffect)(()=>{o(window.matchMedia("(hover: none) and (pointer: coarse)").matches);let e=e=>{c.current&&!c.current.contains(e.target)&&x()};return(!d||i)&&l?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d,l,i]),(0,a.jsxs)("div",{ref:c,className:"relative flex items-center",...i?{onClick:m}:d?{onMouseEnter:()=>n(!0),onMouseLeave:x}:{onClick:m},children:[t,(0,a.jsx)(eN.N,{children:l&&(0,a.jsx)(ew.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-48 p-2 bg-gray-800 text-white text-xs rounded-md shadow-lg z-10",children:r})})]})},eA=e=>{let{className:t}=e;return(0,a.jsx)("span",{className:t,children:(0,a.jsx)(Z.A,{className:"text-2xl"})})};function eS(e){let{label:t,value:r,valueClassName:s="text-gray-900 dark:text-white",children:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[t,l&&(0,a.jsx)("div",{className:"ml-1",children:l})]}),(0,a.jsx)("p",{className:"font-semibold ".concat(s),children:r})]})}function eF(e){let{fund:t,onDetailsClick:r}=e,s=e=>e.startsWith("+")?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",l=s(t.ytdReturn),n={"Top 10%":"bg-green-100 dark:bg-green-900 dark:text-green-300",Stable:"bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-300","Top 5%":"bg-green-100 dark:bg-green-900 dark:text-green-300",Hedge:"bg-blue-100 dark:bg-blue-900 dark:text-blue-300"}[t.status]||"bg-gray-100 dark:bg-gray-700 dark:text-gray-300";return(0,a.jsx)("div",{className:"asset-card cursor-grab rounded-xl bg-white p-4 shadow-md active:cursor-grabbing dark:bg-gray-800",draggable:"true",children:(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.name}),t.metadata.assetTypeRaw&&(0,a.jsx)(ek,{className:"mt-1 ".concat(ev(t.metadata.assetTypeRaw)),children:t.metadata.assetTypeRaw}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.ticker," - ",t.type]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-end",children:[(0,a.jsx)(ek,{className:"".concat(n),children:t.status}),(0,a.jsx)(ek,{className:"".concat(ev(t.metadata.sector)),children:t.metadata.sector}),(0,a.jsx)(ek,{className:"hidden sm:inline-block ".concat(ev(t.metadata.unitType)),children:t.metadata.unitType}),(0,a.jsx)(ek,{className:"hidden sm:inline-block ".concat(ev(t.metadata.paymentType)),children:t.metadata.paymentType}),(0,a.jsx)(ek,{className:"hidden sm:inline-block ".concat(ev(t.metadata.paymentFrequency)),children:t.metadata.paymentFrequency})]})]}),(0,a.jsx)("p",{className:"mt-2 line-clamp-2 text-sm text-gray-600 dark:text-gray-300 sm:line-clamp-none",children:t.description}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 md:gap-x-6 md:flex-nowrap",children:[(0,a.jsx)(eS,{label:"YTD Return",value:t.ytdReturn,valueClassName:l,children:(0,a.jsx)(eC,{content:"Year-to-date return (YTD) is the return of an investment from the first trading day of the current calendar year.",children:(0,a.jsx)(eA,{})})}),(0,a.jsx)(eS,{label:"Expense Ratio",value:t.expenseRatio,children:(0,a.jsx)(eC,{content:"The expense ratio is a measure of the total cost of managing and operating an investment fund.",children:(0,a.jsx)(eA,{})})}),(0,a.jsx)("div",{className:"hidden sm:block",children:(0,a.jsx)(eS,{label:"1-year",value:t.performance.oneYear,valueClassName:"".concat(s(t.performance.oneYear)),children:(0,a.jsx)(eC,{content:"The total return of the fund over the past one year.",children:(0,a.jsx)(eA,{})})})}),(0,a.jsx)("div",{className:"hidden sm:block",children:(0,a.jsx)(eS,{label:"3-year",value:t.performance.threeYear,valueClassName:"".concat(s(t.performance.threeYear)),children:(0,a.jsx)(eC,{content:"The total return of the fund over the past three years.",children:(0,a.jsx)(eA,{})})})}),(0,a.jsx)("div",{className:"hidden sm:block",children:(0,a.jsx)(eS,{label:"5-year",value:t.performance.fiveYear,valueClassName:"".concat(s(t.performance.fiveYear)),children:(0,a.jsx)(eC,{content:"The total return of the fund over the past five years.",children:(0,a.jsx)(eA,{})})})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(eS,{label:"Annual Charge",value:t.financialMetrics.annualCharge,children:(0,a.jsx)(eC,{content:"The annual fee charged by the fund.",children:(0,a.jsx)(eA,{})})})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(eS,{label:"Fund Size",value:t.financialMetrics.fundSize,children:(0,a.jsx)(eC,{content:"The total assets under management (AUM) of the fund.",children:(0,a.jsx)(eA,{})})})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(eS,{label:"Sharpe (3y)",value:t.sharpeRatio.threeYear,children:(0,a.jsx)(eC,{content:"The Sharpe ratio measures the performance of an investment compared to a risk-free asset, after adjusting for its risk. A 3-year Sharpe ratio indicates this over a three-year period.",children:(0,a.jsx)(eA,{})})})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(eS,{label:"Sharpe (5y)",value:t.sharpeRatio.fiveYear,children:(0,a.jsx)(eC,{content:"The Sharpe ratio measures the performance of an investment compared to a risk-free asset, after adjusting for its risk. A 5-year Sharpe ratio indicates this over a five-year period.",children:(0,a.jsx)(eA,{})})})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>r(t),className:"text-sm font-medium text-blue-600 hover:underline",children:"Details"}),(0,a.jsx)(ej,{showText:"never"})]})]})]})})})}var e_=r(2120),eL=r(4773);let eP={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},eE=Object.keys(eP),eT={development:{defaultLevel:"INFO",modules:{}},production:{defaultLevel:"ERROR",modules:{}}};class eR{_getLevel(){var e;let t=eT.production||eT.development,r=t.modules[this.moduleName],a=t.defaultLevel;return null!=(e=eP[r||a])?e:eP.INFO}_log(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(e>=this._getLevel()){let r=eE.find(t=>eP[t]===e),s=new Date().toISOString(),l="[".concat(s,"] [").concat(r,"] [").concat(this.moduleName,"]");switch(e){case eP.DEBUG:console.debug(l,t,...a);break;case eP.INFO:console.info(l,t,...a);break;case eP.WARN:console.warn(l,t,...a);break;case eP.ERROR:console.error(l,t,...a);break;default:console.log(l,t,...a)}}}debug(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this._log(eP.DEBUG,e,...r)}info(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this._log(eP.INFO,e,...r)}warn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this._log(eP.WARN,e,...r)}error(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this._log(eP.ERROR,e,...r)}constructor(e){this.moduleName=e}}let eM="https://pub-fd97e9c61edd49a5b78f108975e571c7.r2.dev/funds.parquet",eD=new eR("FundLoader");class eH{async loadFunds(){if(this.funds)return this.funds;let e=["HL.fund_name","HL.name","Fidelity.fundData_name","sedol","Yahoo.yahoo_symbol","Fidelity.fundData_category","HL.sector_name","Fidelity.fundData_sdrLabelName","Fidelity.fundData_investmentObjective","HL.full_description","Fidelity.fundData_benchmarkNetChangePercent","HL.perf0t12m","HL.perf12m","HL.perf36m","HL.perf60m","Fidelity.keyStats_ongoingChargeAudited","HL.net_annual_charge","Fidelity.fundData_type","HL.unit_type","HL.payment_type","HL.payment_frequency","HL_Asset_Type.category","HL_Asset_Type.raw","HL.initial_charge","Fidelity.keyStats_ongoingChargeWithPeformanceFee","HL.annual_charge","Fidelity.keyStats_netAssets","HL.fund_size","HL.num_holdings","Fidelity.keyStats_launchDate","HL.launchdate","Fidelity.riskAndRating_riskMeasures_sharpeRatios_threeYear","Fidelity.riskAndRating_riskMeasures_sharpeRatios_fiveYear"];try{eD.info("Starting to load parquet file with specific columns...");let t=await (0,e_.S1)({url:eM,requestInit:{}});eD.info("File fetched, size:",t.byteLength);let r=[];return await (0,eL.bA)({file:t,columns:e,onComplete:e=>{r.push(...e)}}),eD.info("Loaded ".concat(r.length," rows.")),this.funds=r.map(t=>{let r={};return e.forEach((e,a)=>{r[e]=t[a]}),r}),this.columnNames=e,eD.info("Converted arrays to objects."),this.funds}catch(e){throw eD.error("Failed to load fund data:",e),eD.error("Error stack:",e.stack),e}}async fetchPriceData(e,t){return Promise.all(e.map(async e=>{let r=e["Yahoo.yahoo_symbol"];if(!r)return{...e,prices:[]};if(this.priceCache.has(r)){let a=this.priceCache.get(r);return{...e,prices:this.filterPriceDataByRange(a,t)}}try{let a=await fetch("https://raw.githubusercontent.com/optzr/fetcher/refs/heads/master/quotes/yahoo/".concat(r,".json"),{});if(!a.ok)throw Error("Failed to fetch price data for ".concat(r));let s=await a.json();return this.priceCache.set(r,s),{...e,prices:this.filterPriceDataByRange(s,t)}}catch(t){return{...e,prices:[]}}}))}getRangeCutoffDate(e){let t=new Date;switch(e){case"1mo":return t.setMonth(t.getMonth()-1);case"1y":return t.setFullYear(t.getFullYear()-1);case"5y":return t.setFullYear(t.getFullYear()-5);default:return 0}}filterPriceDataByRange(e,t){if(!e)return[];let r=this.getRangeCutoffDate(t);return e.filter(e=>1e3*e.Date>=r)}clearPriceDataCache(){this.priceCache.clear()}async getUniqueCategories(){return this.getUniqueValues(["HL_Asset_Type.category"])}async getUniqueValues(e){return new Promise(async(t,r)=>{if(!e||0===e.length)return r(Error("At least one column must be specified."));try{eD.info("Reading unique values for ".concat(e.join(", ")));let a=await (0,e_.S1)({url:eM,requestInit:{}}),s=new Set;(0,eL.bA)({file:a,columns:e,onComplete:t=>{for(let r of t)if(r)if(1===e.length){let e=r[0];null!=e&&""!==String(e).trim()&&s.add("string"==typeof e?e.trim():e)}else{let e=r.map(e=>null!=e?"string"==typeof e?e.trim():e:null);e.some(e=>null!==e&&("string"!=typeof e||""!==e.trim()))&&s.add(JSON.stringify(e))}}}).then(()=>{let r=Array.from(s);e.length>1?(r=r.map(e=>JSON.parse(e))).sort((e,t)=>JSON.stringify(e).localeCompare(JSON.stringify(t))):r.sort(),eD.info("Unique values extracted for ".concat(e.join(", "),":"),r.length),t(r)}).catch(t=>{eD.error("Error during parquet read in getUniqueValues for ".concat(e.join(", "),":"),t),r(t)})}catch(t){eD.error("Failed to load unique values for ".concat(e.join(", "),":"),t),r(t)}})}async getUniqueSectors(){return this.getUniqueValues(["HL.sector_name"])}async getUniqueUnitTypes(){return this.getUniqueValues(["HL.unit_type"])}async getUniquePaymentTypes(){return this.getUniqueValues(["HL.payment_type"])}async getUniquePaymentFrequencies(){return this.getUniqueValues(["HL.payment_frequency"])}constructor(){if(eH.instance)return eH.instance;this.funds=null,this.columnNames=null,this.priceCache=new Map,eH.instance=this}}let eY=new eH,eq=e=>{var t,r,a,s;let l=e=>{if(null==e||"nan"===e)return null;let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?null:t},n=e["HL.name"]||e["HL.fund_name"]||e["Fidelity.fundData_name"],i=l(e["Fidelity.fundData_benchmarkNetChangePercent"]),o=l(e["HL.perf0t12m"]),d=l(e["HL.perf12m"]),c=l(e["HL.perf36m"]),x=l(e["HL.perf60m"]);return{sedol:e.sedol,name:n,ticker:e["Yahoo.yahoo_symbol"],type:e["Fidelity.fundData_category"]||e["HL.sector_name"],status:e["Fidelity.fundData_sdrLabelName"]||"Stable",description:e["Fidelity.fundData_investmentObjective"]||e["HL.full_description"],ytdReturn:null!==i?"".concat(i.toFixed(1),"%"):null!==o?"".concat((100*o).toFixed(1),"%"):"N/A",expenseRatio:e["Fidelity.keyStats_ongoingChargeAudited"]?"".concat(e["Fidelity.keyStats_ongoingChargeAudited"],"%"):e["HL.net_annual_charge"]?"".concat(e["HL.net_annual_charge"],"%"):"N/A",metadata:{sector:e["Fidelity.fundData_category"]||e["HL.sector_name"],unitType:e["Fidelity.fundData_type"]||e["HL.unit_type"],paymentType:e["HL.payment_type"],paymentFrequency:e["HL.payment_frequency"],assetCategory:e["HL_Asset_Type.category"]?e["HL_Asset_Type.category"].trim():null,assetTypeRaw:e["HL_Asset_Type.raw"],filterSector:e["HL.sector_name"],filterUnitType:e["HL.unit_type"]},financialMetrics:{initialCharge:e["HL.initial_charge"]?"".concat(e["HL.initial_charge"],"%"):"N/A",annualCharge:e["Fidelity.keyStats_ongoingChargeWithPeformanceFee"]?"".concat(e["Fidelity.keyStats_ongoingChargeWithPeformanceFee"],"%"):e["HL.annual_charge"]?"".concat(e["HL.annual_charge"],"%"):"N/A",fundSize:e["Fidelity.keyStats_netAssets"]||e["HL.fund_size"],numberOfHoldings:e["HL.num_holdings"],launchDate:e["Fidelity.keyStats_launchDate"]||e["HL.launchdate"]},performance:{oneYear:null!==d?"".concat((100*d).toFixed(1),"%"):"N/A",threeYear:null!==c?"".concat((100*c).toFixed(1),"%"):"N/A",fiveYear:null!==x?"".concat((100*x).toFixed(1),"%"):"N/A"},sharpeRatio:{threeYear:null!=(a=null==(t=e["Fidelity.riskAndRating_riskMeasures_sharpeRatios_threeYear"])?void 0:t.toString())?a:"N/A",fiveYear:null!=(s=null==(r=e["Fidelity.riskAndRating_riskMeasures_sharpeRatios_fiveYear"])?void 0:r.toString())?s:"N/A"}}};function eI(e){let{sortConfig:t,onDetailsClick:r,searchQuery:l,filters:n}=e,[i,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await eY.loadFunds();o(e.map(eq))}catch(e){console.error("Error loading funds:",e)}c(!1)})()},[]);let x=(e,t)=>{switch(t){case"name":return e.name;case"performance_1y":return parseFloat(e.performance.oneYear.replace("%",""));case"performance_3y":return parseFloat(e.performance.threeYear.replace("%",""));case"annual_charge":return parseFloat(e.financialMetrics.annualCharge.replace("%",""));case"fund_size":let r=e.financialMetrics.fundSize;if(!r)return 0;let a=parseFloat(r.replace(/[^0-9.]/g,""));if(r.endsWith("T"))return 1e12*a;if(r.endsWith("B"))return 1e9*a;if(r.endsWith("M"))return 1e6*a;return a;case"sharpe_ratio":return parseFloat(e.sharpeRatio.threeYear);default:return 0}},m=(0,s.useMemo)(()=>{let e=i;if(l){let t=l.trim().toLowerCase();e=i.filter(e=>["sedol","name","ticker"].some(r=>{let a=r.split(".").reduce((e,t)=>e&&"undefined"!==e[t]?e[t]:null,e);return a&&a.toString().toLowerCase().includes(t)}))}return n&&n.assetCategory&&"All"!==n.assetCategory&&(e=e.filter(e=>e.metadata.assetCategory===n.assetCategory)),n&&n.sector&&"All"!==n.sector&&(e=e.filter(e=>e.metadata.filterSector===n.sector)),n&&n.unitType&&"All"!==n.unitType&&(e=e.filter(e=>e.metadata.filterUnitType===n.unitType)),n&&n.paymentType&&"All"!==n.paymentType&&(e=e.filter(e=>e.metadata.paymentType===n.paymentType)),n&&n.paymentFrequency&&"All"!==n.paymentFrequency&&(e=e.filter(e=>e.metadata.paymentFrequency===n.paymentFrequency)),e},[i,l,n]),g=(0,s.useMemo)(()=>{if(!t.sortBy)return m;let e=[...m].sort((e,r)=>{let a=x(e,t.sortBy),s=x(r,t.sortBy);return a<s?-1:+(a>s)});return"desc"===t.sortOrder&&e.reverse(),e},[m,t]),u=(0,s.useRef)(),h=(0,eb.Te)({count:g.length,getScrollElement:()=>u.current,estimateSize:()=>300}),f=h.getVirtualItems();if(d)return(0,a.jsx)("div",{children:"Loading..."});let y=1===g.length?"Showing 1 fund":"Showing ".concat(g.length," funds");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400",children:y}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)("div",{ref:u,className:"overflow-y-auto",style:{height:"calc(100vh - 200px)"},children:(0,a.jsx)("div",{style:{height:"".concat(h.getTotalSize(),"px"),position:"relative"},children:f.map(e=>{let t=g[e.index];return(0,a.jsx)("div",{"data-index":e.index,ref:h.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(e.start,"px)"),padding:"1rem"},children:(0,a.jsx)(eF,{fund:t,onDetailsClick:r})},e.key)})})})})]})}function eO(e){let{label:t,min:r,max:s,currentMin:l,currentMax:n,onChange:i,valueFormatter:o=e=>e}=e;return(0,a.jsx)("div",{className:"@container",children:(0,a.jsxs)("div",{className:"relative flex w-full flex-col items-start justify-between gap-3 py-4 @[480px]:flex-row",children:[(0,a.jsx)("p",{className:"text-custom-light-text text-base font-medium leading-normal w-full shrink-[3]",children:t}),(0,a.jsx)("div",{className:"flex h-[38px] w-full pt-1.5",children:(0,a.jsxs)("div",{className:"flex h-1 w-full rounded-sm bg-custom-slider-track items-center",children:[(0,a.jsx)("div",{className:"relative w-[20%]",children:(0,a.jsxs)("div",{className:"absolute -left-2.5 -top-2 flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:"size-4 rounded-full bg-primary ring-2 ring-background-dark"}),(0,a.jsx)("p",{className:"text-custom-light-text text-sm font-normal leading-normal",children:o(l)})]})}),(0,a.jsx)("div",{className:"h-1 flex-1 bg-primary"}),(0,a.jsx)("div",{className:"relative w-[80%]",children:(0,a.jsxs)("div",{className:"absolute -right-2.5 -top-2 flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:"size-4 rounded-full bg-primary ring-2 ring-background-dark"}),(0,a.jsx)("p",{className:"text-custom-light-text text-sm font-normal leading-normal",children:o(n)})]})})]})})]})})}function eU(e){let{children:t,className:r=""}=e;return(0,a.jsx)("h3",{className:"text-custom-light-text text-lg font-bold leading-tight tracking-[-0.015em] pb-2 pt-2 ".concat(r),children:t})}function ez(e){let{onClose:t,onApplyFilters:r,currentFilters:l}=e,[n,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(l.assetCategory),[c,x]=(0,s.useState)([]),[m,g]=(0,s.useState)(l.sector||"All"),[u,h]=(0,s.useState)([]),[y,b]=(0,s.useState)(l.unitType||"All"),[p,j]=(0,s.useState)([]),[v,k]=(0,s.useState)(l.paymentType||"All"),[N,w]=(0,s.useState)([]),[C,A]=(0,s.useState)(l.paymentFrequency||"All");return(0,s.useEffect)(()=>{!async function(){try{let e=await eY.getUniqueCategories();console.log("Fetched asset categories:",e),e&&i(["All",...e])}catch(e){console.error("Error fetching asset categories:",e)}try{let e=await eY.getUniqueSectors();console.log("Fetched sectors:",e),e&&x(["All",...e])}catch(e){console.error("Error fetching sectors:",e)}try{let e=await eY.getUniqueUnitTypes();console.log("Fetched unit types:",e),e&&h(["All",...e])}catch(e){console.error("Error fetching unit types:",e)}try{let e=await eY.getUniquePaymentTypes();console.log("Fetched payment types:",e),e&&j(["All",...e])}catch(e){console.error("Error fetching payment types:",e)}try{let e=await eY.getUniquePaymentFrequencies();console.log("Fetched payment frequencies:",e),e&&w(["All",...e])}catch(e){console.error("Error fetching payment frequencies:",e)}}()},[]),(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",children:(0,a.jsxs)("div",{className:"relative flex h-auto max-h-[80vh] md:max-h-[90vh] w-full max-w-lg md:max-w-3xl lg:max-w-5xl flex-col bg-gray-900 dark group/design-root overflow-hidden rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center bg-gray-900 p-4 pb-2 justify-between border-b border-gray-700",children:[(0,a.jsx)("h2",{className:"text-custom-light-text text-lg font-bold leading-tight tracking-[-0.015em] flex-1",children:"Filter Options"}),(0,a.jsx)("button",{onClick:t,className:"text-custom-light-text w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-700",children:(0,a.jsx)(f.A,{className:"text-2xl"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 md:gap-x-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eU,{children:"Fees & Ratios"}),(0,a.jsx)(eO,{label:"Annual Charge",min:0,max:5,currentMin:.05,currentMax:2.5,onChange:()=>{},valueFormatter:e=>"".concat(e.toFixed(2),"%")}),(0,a.jsx)(eO,{label:"Yield",min:0,max:15,currentMin:0,currentMax:10,onChange:()=>{},valueFormatter:e=>"".concat(e.toFixed(2),"%")}),(0,a.jsx)(eO,{label:"Sharpe Ratio",min:0,max:5,currentMin:.1,currentMax:3,onChange:()=>{},valueFormatter:e=>e.toFixed(2)}),(0,a.jsx)("div",{className:"border-t border-gray-700 my-4"}),(0,a.jsx)(eU,{children:"Performance"}),(0,a.jsx)(eO,{label:"1-Year Performance",min:-50,max:100,currentMin:-10,currentMax:50,onChange:()=>{},valueFormatter:e=>"".concat(e,"%")}),(0,a.jsx)(eO,{label:"3-Year Performance",min:-50,max:150,currentMin:5,currentMax:80,onChange:()=>{},valueFormatter:e=>"".concat(e,"%")}),(0,a.jsx)(eO,{label:"5-Year Performance",min:-50,max:200,currentMin:20,currentMax:150,onChange:()=>{},valueFormatter:e=>"".concat(e,"%")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"border-t border-gray-700 my-4 md:hidden"}),(0,a.jsx)(eU,{children:"Fund Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 @[480px]:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-custom-light-text mb-1",htmlFor:"asset-category",children:"Asset Category"}),(0,a.jsx)("select",{className:"w-full bg-custom-slider-track text-custom-light-text border-gray-600 rounded-lg focus:ring-primary focus:border-primary",id:"asset-category",value:o,onChange:e=>d(e.target.value),children:n.map(e=>(0,a.jsx)("option",{children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-custom-light-text mb-1",htmlFor:"sector",children:"Sector"}),(0,a.jsx)("select",{className:"w-full bg-custom-slider-track text-custom-light-text border-gray-600 rounded-lg focus:ring-primary focus:border-primary",id:"sector",value:m,onChange:e=>g(e.target.value),children:c.map(e=>(0,a.jsx)("option",{children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-custom-light-text mb-1",htmlFor:"unit-type",children:"Unit Type"}),(0,a.jsx)("select",{className:"w-full bg-custom-slider-track text-custom-light-text border-gray-600 rounded-lg focus:ring-primary focus:border-primary",id:"unit-type",value:y,onChange:e=>b(e.target.value),children:u.map(e=>(0,a.jsx)("option",{children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-custom-light-text mb-1",htmlFor:"payment-type",children:"Payment Type"}),(0,a.jsx)("select",{className:"w-full bg-custom-slider-track text-custom-light-text border-gray-600 rounded-lg focus:ring-primary focus:border-primary",id:"payment-type",value:v,onChange:e=>k(e.target.value),children:p.map(e=>(0,a.jsx)("option",{children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-custom-light-text mb-1",htmlFor:"payment-frequency",children:"Payment Frequency"}),(0,a.jsx)("select",{className:"w-full bg-custom-slider-track text-custom-light-text border-gray-600 rounded-lg focus:ring-primary focus:border-primary",id:"payment-frequency",value:C,onChange:e=>A(e.target.value),children:N.map(e=>(0,a.jsx)("option",{children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex items-center mt-6",children:[(0,a.jsx)("input",{className:"h-4 w-4 rounded border-gray-600 bg-custom-slider-track text-primary focus:ring-primary",id:"tracker-fund",type:"checkbox"}),(0,a.jsx)("label",{className:"ml-2 block text-sm text-custom-light-text",htmlFor:"tracker-fund",children:"Tracker Fund"})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-900 p-4 border-t border-gray-700",children:[(0,a.jsx)("button",{className:"text-custom-light-text text-base font-bold leading-normal tracking-[0.015em] shrink-0 hover:text-white",children:"Reset All"}),(0,a.jsx)("button",{onClick:()=>{r({assetCategory:o,sector:m,unitType:y,paymentType:v,paymentFrequency:C}),t()},className:"bg-primary text-white font-bold py-2 px-6 rounded-lg hover:bg-primary/90",children:"Apply Filters"})]})]})})}var eB=r(5057);function eW(e){let{options:t,selectedValue:r,onSelect:s,name:l}=e;return(0,a.jsx)("div",{className:"flex h-12 flex-1 items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 p-1",children:t.map(e=>(0,a.jsxs)("label",{className:"flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-lg px-2 text-gray-500 has-[:checked]:bg-white dark:has-[:checked]:bg-gray-900 has-[:checked]:shadow-sm has-[:checked]:text-blue-600 dark:has-[:checked]:text-white text-sm font-medium leading-normal",children:[(0,a.jsx)("span",{className:"truncate",children:e.label}),(0,a.jsx)("input",{checked:r===e.value,onChange:()=>s(e.value),className:"invisible w-0",name:l,type:"radio",value:e.value})]},e.value))})}let eV=e=>{let{data:t,className:r}=e;return(0,a.jsxs)("svg",{fill:"none",height:"148",preserveAspectRatio:"none",viewBox:"-3 0 478 150",width:"100%",xmlns:"http://www.w3.org/2000/svg",className:r,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"chartGradient",x1:"236",x2:"236",y1:"0",y2:"150",children:[(0,a.jsx)("stop",{stopColor:"#2563EB",stopOpacity:"0.3"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#2563EB",stopOpacity:"0"})]})}),(0,a.jsx)("path",{d:"M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25V149H0V109Z",fill:"url(#chartGradient)"}),(0,a.jsx)("path",{d:"M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"3"})]})},eG=e=>{let{onClick:t}=e;return(0,a.jsx)(Z.A,{className:"text-2xl cursor-pointer",onClick:t})};function eJ(e){let{isOpen:t,onClose:r,title:s,children:l,footerContent:n,maxWidthClass:i="max-w-lg",modalClassName:o="bg-gray-900 dark",headerClassName:d="bg-gray-900 border-b border-gray-700",titleClassName:c="text-custom-light-text text-lg font-bold leading-tight tracking-[-0.015em]",closeButtonClassName:x="text-custom-light-text w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-700",bodyClassName:m="",footerClassName:g="bg-gray-900 border-t border-gray-700"}=e;return t?(0,a.jsx)("div",{role:"dialog",className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",children:(0,a.jsxs)("div",{className:"relative flex h-full w-full ".concat(i," flex-col ").concat(o," group/design-root overflow-hidden rounded-xl"),children:[(0,a.jsxs)("div",{className:"flex items-center p-4 pb-2 justify-between ".concat(d),children:[(0,a.jsx)("h2",{className:"".concat(c," flex-1"),children:s}),(0,a.jsx)("button",{onClick:r,className:"".concat(x),"aria-label":"Close",children:(0,a.jsx)(f.A,{className:"text-2xl"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto ".concat(m),children:l}),n&&(0,a.jsx)("div",{className:"flex items-center justify-between p-4 ".concat(g),children:n})]})}):null}let eQ=e=>{let{title:t,children:r}=e,[l,n]=(0,s.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eG,{onClick:()=>{n(!0)}}),(0,a.jsx)(eJ,{isOpen:l,onClose:()=>{n(!1)},title:t,children:r})]})},eK=e=>{var t;let{fundName:r,onClose:s,fundDetails:l}=e;return(0,a.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 justify-center gap-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold leading-tight tracking-[-0.015em] text-center text-gray-800 dark:text-white",children:r}),(0,a.jsx)(eQ,{title:"About ".concat(r),children:(0,a.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("p",{children:"This modal provides additional details about the fund."}),(0,a.jsx)("p",{children:"Here you can include more comprehensive information, such as:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside ml-4",children:[(0,a.jsx)("li",{children:"Detailed investment strategy"}),(0,a.jsx)("li",{children:"Management team background"}),(0,a.jsx)("li",{children:"Risk factors"}),(0,a.jsx)("li",{children:"Historical performance nuances"})]}),(0,a.jsxs)("p",{children:["Fund Type: ",null==l?void 0:l.type]}),(0,a.jsxs)("p",{children:["Sector: ",null==l||null==(t=l.metadata)?void 0:t.sector]})]})})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full w-8 h-8 flex items-center justify-center",children:(0,a.jsx)(f.A,{className:"text-2xl"})})]})};var eX=r(807);let eZ=()=>(0,a.jsxs)("div",{className:"sticky bottom-0 z-10 w-full bg-white dark:bg-gray-900 p-4 border-t border-gray-200 dark:border-gray-700 shadow-lg flex items-center gap-4",children:[(0,a.jsxs)("button",{className:"flex flex-col items-center gap-1 text-gray-600 dark:text-gray-300 hover:text-blue-600",children:[(0,a.jsx)(eX.A,{className:"text-xl"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"Deep Dive"})]}),(0,a.jsx)(ej,{showText:"always",className:"flex-grow py-3 text-base font-semibold"})]}),e$=e=>{let{fund:t}=e,[r,l]=(0,s.useState)("1Y");return(0,a.jsxs)("div",{className:"px-4 pt-4 space-y-6 pb-40",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-gray-800 dark:text-white text-base font-medium leading-normal px-2",children:"Performance"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white tracking-light text-3xl font-bold leading-tight truncate px-2",children:"$14,873.50"}),(0,a.jsx)(eS,{label:"1Y",value:t.performance.oneYear,valueClassName:(e=>e&&e.startsWith("+")?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")(t.performance.oneYear)}),(0,a.jsxs)("div",{className:"flex min-h-[220px] flex-1 flex-col gap-4 py-4",children:[(0,a.jsx)(eV,{className:"text-blue-600"}),(0,a.jsx)("div",{className:"flex justify-around",children:["Jan","Feb","Mar","Apr","May","Jun"].map(e=>(0,a.jsx)("p",{className:"text-gray-400 dark:text-gray-400 text-xs font-bold leading-normal tracking-[0.015em]",children:e},e))})]}),(0,a.jsx)(eW,{options:[{label:"1M",value:"1M"},{label:"6M",value:"6M"},{label:"1Y",value:"1Y"},{label:"5Y",value:"5Y"},{label:"Max",value:"Max"}],selectedValue:r,onSelect:l,name:"period-toggle"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 col-span-2",children:[(0,a.jsx)(eU,{className:"text-gray-800 dark:text-white",children:"Key Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"flex min-w-[140px] flex-1 flex-col gap-1 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:(0,a.jsx)(eS,{label:"Expense Ratio",value:t.expenseRatio})}),(0,a.jsx)("div",{className:"flex min-w-[140px] flex-1 flex-col gap-1 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:(0,a.jsx)(eS,{label:"Yield",value:"1.8%"})}),(0,a.jsx)("div",{className:"flex min-w-[140px] flex-1 flex-col gap-1 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:(0,a.jsx)(eS,{label:"Sharpe Ratio",value:t.sharpeRatio.threeYear})}),(0,a.jsx)("div",{className:"flex min-w-[140px] flex-1 flex-col gap-1 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:(0,a.jsx)(eS,{label:"AUM",value:t.financialMetrics.fundSize})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 col-span-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(eU,{className:"text-gray-800 dark:text-white",children:"Quick Compare"}),(0,a.jsx)("button",{className:"text-blue-600 text-sm font-medium hover:underline",children:"Add Fund"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium text-base",children:"S&P 500 Index Fund"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"1Y: +12.5%"})]}),(0,a.jsx)("button",{className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full p-1",children:(0,a.jsx)(eB.A,{className:"text-base"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium text-base",children:"Emerging Markets Bond"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"1Y: +5.3%"})]}),(0,a.jsx)("button",{className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full p-1",children:(0,a.jsx)(eB.A,{className:"text-base"})})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(eU,{className:"text-gray-800 dark:text-white",children:"Fund Details"}),(0,a.jsxs)("div",{className:"space-y-3 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Asset Class"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:t.type})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Sector"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:t.metadata.sector})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Tracker Fund"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:"Yes"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(eU,{className:"text-gray-800 dark:text-white",children:"Distributions"}),(0,a.jsxs)("div",{className:"space-y-3 rounded-lg p-4 bg-white dark:bg-gray-800 shadow-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Unit Type"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:t.metadata.unitType})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Payment Type"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:t.metadata.paymentType})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Payment Frequency"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:"N/A"})]})]})]})]})]})};function e0(e){let{fund:t,onClose:r}=e;return t?(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)(eK,{fundName:t.name,onClose:r,fundDetails:t}),(0,a.jsx)(e$,{fund:t}),(0,a.jsx)(eZ,{})]}):null}let e1=e=>{let{isMarketExplorerOpen:t,closeMarketExplorer:r}=e,[l,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)({sortBy:"performance_1y",sortOrder:"desc"}),[d,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(null),[g,u]=(0,s.useState)(!1),[h,f]=(0,s.useState)({assetCategory:"All"}),{width:y,startResizing:b,setWidth:p}=(e=>{let{initialWidth:t,minWidth:r=400,maxWidth:a}=e,[l,n]=(0,s.useState)(t),[i,o]=(0,s.useState)(!1),d=(0,s.useCallback)(()=>{o(!0)},[]),c=(0,s.useCallback)(()=>{o(!1)},[]),x=(0,s.useCallback)(e=>{if(i){let t=window.innerWidth-e.clientX;t<r&&(t=r),a&&t>a&&(t=a),n(t)}},[i,r,a]);return(0,s.useEffect)(()=>(window.addEventListener("mousemove",x),window.addEventListener("mouseup",c),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",c)}),[x,c]),{width:l,startResizing:d,setWidth:n}})({initialWidth:1e3,minWidth:400,maxWidth:window.innerWidth});return(0,s.useEffect)(()=>{u(!0);let e=()=>{window.innerWidth<1280?p(window.innerWidth):p(window.innerWidth-384)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[p]),(0,s.useEffect)(()=>(t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[t]),(0,a.jsx)("div",{id:"market-explorer",className:"fixed inset-0 bg-black bg-opacity-50 z-50 ".concat(t?"":"hidden"),children:(0,a.jsxs)("div",{className:"absolute right-0 top-0 h-full bg-white dark:bg-gray-800 slide-in-right overflow-y-auto",style:{width:y},children:[g&&window.innerWidth>=1280&&(0,a.jsx)("div",{className:"absolute left-0 top-0 h-full w-2 cursor-col-resize z-30",onMouseDown:b}),(0,a.jsxs)("div",{className:"relative flex h-full w-full flex-col dark group/design-root ".concat(x?"":"pb-28"),children:[!x&&(0,a.jsx)(ey,{onOpenFilterModal:()=>n(!0),onSortChange:(e,t)=>{o({sortBy:e,sortOrder:t})},sortBy:i.sortBy,sortOrder:i.sortOrder,onClose:r,searchQuery:d,onSearchChange:c}),x?(0,a.jsx)(e0,{fund:x,onClose:()=>{m(null)},className:"flex-1"}):(0,a.jsx)(eI,{sortConfig:i,onDetailsClick:e=>{m(e)},searchQuery:d,searchableFields:["sedol","name","ticker"],filters:h,className:"flex-1"}),l&&(0,a.jsx)(ez,{onClose:()=>n(!1),onApplyFilters:e=>{f(e)},currentFilters:h})]})]})})};function e2(){let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)("assets"),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),u=()=>t(!e);return(0,s.useEffect)(()=>{let e=new MutationObserver(()=>{g(document.documentElement.classList.contains("dark"))});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),g(document.documentElement.classList.contains("dark")),()=>e.disconnect()},[]),(0,a.jsxs)("div",{className:"bg-background-light dark:bg-gray-900 font-display text-text-primary dark:text-white",children:[(0,a.jsx)(V,{toggleSidebar:u,toggleCollapse:()=>l(!r),isSidebarCollapsed:r}),(0,a.jsxs)("div",{id:"main-container",className:"flex flex-col lg:flex-row h-[calc(100vh-73px)]",children:[(0,a.jsx)(X,{isSidebarOpen:e,toggleSidebar:u,isSidebarCollapsed:r,activeTab:n,setActiveTab:i,openMarketExplorer:()=>d(!0)}),(0,a.jsx)(en,{openLearningDrawer:()=>x(!0),darkMode:m})]}),(0,a.jsx)(eo,{isLearningDrawerOpen:c,closeLearningDrawer:()=>x(!1),darkMode:m}),(0,a.jsx)(e1,{isMarketExplorerOpen:o,closeMarketExplorer:()=>d(!1)})]})}}},e=>{e.O(0,[910,553,861,676,441,255,358],()=>e(e.s=2826)),_N_E=e.O()}]);